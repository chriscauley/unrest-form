var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,o=(t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,s=(e,t)=>{for(var r in t||(t={}))a.call(t,r)&&o(e,r,t[r]);if(n)for(var r of n(t))i.call(t,r)&&o(e,r,t[r]);return e};import{resolveComponent as u,openBlock as l,createBlock as h,withModifiers as c,createVNode as f,Fragment as m,renderList as p,toDisplayString as d,renderSlot as v,createCommentVNode as y,resolveDynamicComponent as g,createTextVNode as b,mergeProps as w}from"vue";var A,x,j="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},O={},E={exports:{}};
/*! https://mths.be/punycode v1.3.2 by @mathias */
A=E,x=E.exports,function(e){var t=x&&!x.nodeType&&x,r=A&&!A.nodeType&&A,n="object"==typeof j&&j;n.global!==n&&n.window!==n&&n.self!==n||(e=n);var a,i,o=2147483647,s=36,u=/^xn--/,l=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,c={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,m=String.fromCharCode;function p(e){throw RangeError(c[e])}function d(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function v(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+d((e=e.replace(h,".")).split("."),t).join(".")}function y(e){for(var t,r,n=[],a=0,i=e.length;a<i;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<i?56320==(64512&(r=e.charCodeAt(a++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),a--):n.push(t);return n}function g(e){return d(e,(function(e){var t="";return e>65535&&(t+=m((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=m(e)})).join("")}function b(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,r){var n=0;for(e=r?f(e/700):e>>1,e+=f(e/t);e>455;n+=s)e=f(e/35);return f(n+36*e/(e+38))}function O(e){var t,r,n,a,i,u,l,h,c,m,d,v=[],y=e.length,b=0,A=128,x=72;for((r=e.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&p("not-basic"),v.push(e.charCodeAt(n));for(a=r>0?r+1:0;a<y;){for(i=b,u=1,l=s;a>=y&&p("invalid-input"),((h=(d=e.charCodeAt(a++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:s)>=s||h>f((o-b)/u))&&p("overflow"),b+=h*u,!(h<(c=l<=x?1:l>=x+26?26:l-x));l+=s)u>f(o/(m=s-c))&&p("overflow"),u*=m;x=w(b-i,t=v.length+1,0==i),f(b/t)>o-A&&p("overflow"),A+=f(b/t),b%=t,v.splice(b++,0,A)}return g(v)}function E(e){var t,r,n,a,i,u,l,h,c,d,v,g,A,x,j,O=[];for(g=(e=y(e)).length,t=128,r=0,i=72,u=0;u<g;++u)(v=e[u])<128&&O.push(m(v));for(n=a=O.length,a&&O.push("-");n<g;){for(l=o,u=0;u<g;++u)(v=e[u])>=t&&v<l&&(l=v);for(l-t>f((o-r)/(A=n+1))&&p("overflow"),r+=(l-t)*A,t=l,u=0;u<g;++u)if((v=e[u])<t&&++r>o&&p("overflow"),v==t){for(h=r,c=s;!(h<(d=c<=i?1:c>=i+26?26:c-i));c+=s)j=h-d,x=s-d,O.push(m(b(d+j%x,0))),h=f(j/x);O.push(m(b(h,0))),i=w(r,A,n==a),r=0,++n}++r,++t}return O.join("")}if(a={version:"1.3.2",ucs2:{decode:y,encode:g},decode:O,encode:E,toASCII:function(e){return v(e,(function(e){return l.test(e)?"xn--"+E(e):e}))},toUnicode:function(e){return v(e,(function(e){return u.test(e)?O(e.slice(4).toLowerCase()):e}))}},t&&r)if(A.exports==t)r.exports=a;else for(i in a)a.hasOwnProperty(i)&&(t[i]=a[i]);else e.punycode=a}(j);var S={};function F(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var _=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};S.decode=S.parse=function(e,t,r,n){t=t||"&",r=r||"=";var a={};if("string"!=typeof e||0===e.length)return a;var i=/\+/g;e=e.split(t);var o=1e3;n&&"number"==typeof n.maxKeys&&(o=n.maxKeys);var s=e.length;o>0&&s>o&&(s=o);for(var u=0;u<s;++u){var l,h,c,f,m=e[u].replace(i,"%20"),p=m.indexOf(r);p>=0?(l=m.substr(0,p),h=m.substr(p+1)):(l=m,h=""),c=decodeURIComponent(l),f=decodeURIComponent(h),F(a,c)?Array.isArray(a[c])?a[c].push(f):a[c]=[a[c],f]:a[c]=f}return a},S.encode=S.stringify=function(e,t,r,n){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(n){var a=encodeURIComponent(_(n))+r;return Array.isArray(e[n])?e[n].map((function(e){return a+encodeURIComponent(_(e))})).join(t):a+encodeURIComponent(_(e[n]))})).join(t):n?encodeURIComponent(_(n))+r+encodeURIComponent(_(e)):""};var $=E.exports,C={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}};function z(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}O.parse=J,O.resolve=function(e,t){return J(e,!1,!0).resolve(t)},O.resolveObject=function(e,t){return e?J(e,!1,!0).resolveObject(t):t},O.format=function(e){C.isString(e)&&(e=J(e));return e instanceof z?e.format():z.prototype.format.call(e)},O.Url=z;var Z=/^([a-z0-9.+-]+:)/i,P=/:[0-9]*$/,V=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,k=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),I=["'"].concat(k),R=["%","/","?",";","#"].concat(I),q=["/","?","#"],N=/^[+a-z0-9A-Z_-]{0,63}$/,U=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,M={javascript:!0,"javascript:":!0},L={javascript:!0,"javascript:":!0},T={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},D=S;function J(e,t,r){if(e&&C.isObject(e)&&e instanceof z)return e;var n=new z;return n.parse(e,t,r),n}z.prototype.parse=function(e,t,r){if(!C.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),a=-1!==n&&n<e.indexOf("#")?"?":"#",i=e.split(a);i[0]=i[0].replace(/\\/g,"/");var o=e=i.join(a);if(o=o.trim(),!r&&1===e.split("#").length){var s=V.exec(o);if(s)return this.path=o,this.href=o,this.pathname=s[1],s[2]?(this.search=s[2],this.query=t?D.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var u=Z.exec(o);if(u){var l=(u=u[0]).toLowerCase();this.protocol=l,o=o.substr(u.length)}if(r||u||o.match(/^\/\/[^@\/]+@[^@\/]+/)){var h="//"===o.substr(0,2);!h||u&&L[u]||(o=o.substr(2),this.slashes=!0)}if(!L[u]&&(h||u&&!T[u])){for(var c,f,m=-1,p=0;p<q.length;p++){-1!==(d=o.indexOf(q[p]))&&(-1===m||d<m)&&(m=d)}-1!==(f=-1===m?o.lastIndexOf("@"):o.lastIndexOf("@",m))&&(c=o.slice(0,f),o=o.slice(f+1),this.auth=decodeURIComponent(c)),m=-1;for(p=0;p<R.length;p++){var d;-1!==(d=o.indexOf(R[p]))&&(-1===m||d<m)&&(m=d)}-1===m&&(m=o.length),this.host=o.slice(0,m),o=o.slice(m),this.parseHost(),this.hostname=this.hostname||"";var v="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!v)for(var y=this.hostname.split(/\./),g=(p=0,y.length);p<g;p++){var b=y[p];if(b&&!b.match(N)){for(var w="",A=0,x=b.length;A<x;A++)b.charCodeAt(A)>127?w+="x":w+=b[A];if(!w.match(N)){var j=y.slice(0,p),O=y.slice(p+1),E=b.match(U);E&&(j.push(E[1]),O.unshift(E[2])),O.length&&(o="/"+O.join(".")+o),this.hostname=j.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=$.toASCII(this.hostname));var S=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+S,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==o[0]&&(o="/"+o))}if(!M[l])for(p=0,g=I.length;p<g;p++){var _=I[p];if(-1!==o.indexOf(_)){var z=encodeURIComponent(_);z===_&&(z=escape(_)),o=o.split(_).join(z)}}var P=o.indexOf("#");-1!==P&&(this.hash=o.substr(P),o=o.slice(0,P));var k=o.indexOf("?");if(-1!==k?(this.search=o.substr(k),this.query=o.substr(k+1),t&&(this.query=D.parse(this.query)),o=o.slice(0,k)):t&&(this.search="",this.query={}),o&&(this.pathname=o),T[l]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){S=this.pathname||"";var J=this.search||"";this.path=S+J}return this.href=this.format(),this},z.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",a=!1,i="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&C.isObject(this.query)&&Object.keys(this.query).length&&(i=D.stringify(this.query));var o=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||T[t])&&!1!==a?(a="//"+(a||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):a||(a=""),n&&"#"!==n.charAt(0)&&(n="#"+n),o&&"?"!==o.charAt(0)&&(o="?"+o),t+a+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(o=o.replace("#","%23"))+n},z.prototype.resolve=function(e){return this.resolveObject(J(e,!1,!0)).format()},z.prototype.resolveObject=function(e){if(C.isString(e)){var t=new z;t.parse(e,!1,!0),e=t}for(var r=new z,n=Object.keys(this),a=0;a<n.length;a++){var i=n[a];r[i]=this[i]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var o=Object.keys(e),s=0;s<o.length;s++){var u=o[s];"protocol"!==u&&(r[u]=e[u])}return T[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!T[e.protocol]){for(var l=Object.keys(e),h=0;h<l.length;h++){var c=l[h];r[c]=e[c]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||L[e.protocol])r.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var m=r.pathname||"",p=r.search||"";r.path=m+p}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var d=r.pathname&&"/"===r.pathname.charAt(0),v=e.host||e.pathname&&"/"===e.pathname.charAt(0),y=v||d||r.host&&e.pathname,g=y,b=r.pathname&&r.pathname.split("/")||[],w=(f=e.pathname&&e.pathname.split("/")||[],r.protocol&&!T[r.protocol]);if(w&&(r.hostname="",r.port=null,r.host&&(""===b[0]?b[0]=r.host:b.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),y=y&&(""===f[0]||""===b[0])),v)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,b=f;else if(f.length)b||(b=[]),b.pop(),b=b.concat(f),r.search=e.search,r.query=e.query;else if(!C.isNullOrUndefined(e.search)){if(w)r.hostname=r.host=b.shift(),(E=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=E.shift(),r.host=r.hostname=E.shift());return r.search=e.search,r.query=e.query,C.isNull(r.pathname)&&C.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!b.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var A=b.slice(-1)[0],x=(r.host||e.host||b.length>1)&&("."===A||".."===A)||""===A,j=0,O=b.length;O>=0;O--)"."===(A=b[O])?b.splice(O,1):".."===A?(b.splice(O,1),j++):j&&(b.splice(O,1),j--);if(!y&&!g)for(;j--;j)b.unshift("..");!y||""===b[0]||b[0]&&"/"===b[0].charAt(0)||b.unshift(""),x&&"/"!==b.join("/").substr(-1)&&b.push("");var E,S=""===b[0]||b[0]&&"/"===b[0].charAt(0);w&&(r.hostname=r.host=S?"":b.length?b.shift():"",(E=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=E.shift(),r.host=r.hostname=E.shift()));return(y=y||r.host&&b.length)&&!S&&b.unshift(""),b.length?r.pathname=b.join("/"):(r.pathname=null,r.path=null),C.isNull(r.pathname)&&C.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},z.prototype.parseHost=function(){var e=this.host,t=P.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};var G={},B=O,H=G.ValidationError=function(e,t,r,n,a,i){if(Array.isArray(n)?(this.path=n,this.property=n.reduce((function(e,t){return e+te(t)}),"instance")):void 0!==n&&(this.property=n),e&&(this.message=e),r){var o=r.$id||r.id;this.schema=o||r}void 0!==t&&(this.instance=t),this.name=a,this.argument=i,this.stack=this.toString()};H.prototype.toString=function(){return this.property+" "+this.message};var K=G.ValidatorResult=function(e,t,r,n){this.instance=e,this.schema=t,this.options=r,this.path=n.path,this.propertyPath=n.propertyPath,this.errors=[],this.throwError=r&&r.throwError,this.throwFirst=r&&r.throwFirst,this.throwAll=r&&r.throwAll,this.disableFormat=r&&!0===r.disableFormat};function X(e,t){return t+": "+e.toString()+"\n"}function Q(e){Error.captureStackTrace&&Error.captureStackTrace(this,Q),this.instance=e.instance,this.schema=e.schema,this.options=e.options,this.errors=e.errors}K.prototype.addError=function(e){var t;if("string"==typeof e)t=new H(e,this.instance,this.schema,this.path);else{if(!e)throw new Error("Missing error detail");if(!e.message)throw new Error("Missing error message");if(!e.name)throw new Error("Missing validator type");t=new H(e.message,this.instance,this.schema,this.path,e.name,e.argument)}if(this.errors.push(t),this.throwFirst)throw new Q(this);if(this.throwError)throw t;return t},K.prototype.importErrors=function(e){"string"==typeof e||e&&e.validatorType?this.addError(e):e&&e.errors&&Array.prototype.push.apply(this.errors,e.errors)},K.prototype.toString=function(e){return this.errors.map(X).join("")},Object.defineProperty(K.prototype,"valid",{get:function(){return!this.errors.length}}),G.ValidatorResultError=Q,Q.prototype=new Error,Q.prototype.constructor=Q,Q.prototype.name="Validation Error";var W=G.SchemaError=function e(t,r){this.message=t,this.schema=r,Error.call(this,t),Error.captureStackTrace(this,e)};W.prototype=Object.create(Error.prototype,{constructor:{value:W,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var Y=G.SchemaContext=function(e,t,r,n,a){this.schema=e,this.options=t,Array.isArray(r)?(this.path=r,this.propertyPath=r.reduce((function(e,t){return e+te(t)}),"instance")):this.propertyPath=r,this.base=n,this.schemas=a};Y.prototype.resolve=function(e){return B.resolve(this.base,e)},Y.prototype.makeChild=function(e,t){var r=void 0===t?this.path:this.path.concat([t]),n=e.$id||e.id,a=B.resolve(this.base,n||""),i=new Y(e,this.options,r,a,Object.create(this.schemas));return n&&!i.schemas[a]&&(i.schemas[a]=e),i};var ee=G.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,"uri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/,"utc-millisec":function(e){return"string"==typeof e&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)},regex:function(e){var t=!0;try{new RegExp(e)}catch(r){t=!1}return t},style:/\s*(.+?):\s*([^;]+);?/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/};ee.regexp=ee.regex,ee.pattern=ee.regex,ee.ipv4=ee["ip-address"],G.isFormat=function(e,t,r){if("string"==typeof e&&void 0!==ee[t]){if(ee[t]instanceof RegExp)return ee[t].test(e);if("function"==typeof ee[t])return ee[t](e)}else if(r&&r.customFormats&&"function"==typeof r.customFormats[t])return r.customFormats[t](e);return!0};var te=G.makeSuffix=function(e){return(e=e.toString()).match(/[.\s\[\]]/)||e.match(/^[\d]/)?e.match(/^\d+$/)?"["+e+"]":"["+JSON.stringify(e)+"]":"."+e};function re(e,t,r,n){"object"==typeof r?t[n]=ie(e[n],r):-1===e.indexOf(r)&&t.push(r)}function ne(e,t,r){t[r]=e[r]}function ae(e,t,r,n){"object"==typeof t[n]&&t[n]&&e[n]?r[n]=ie(e[n],t[n]):r[n]=t[n]}function ie(e,t){var r=Array.isArray(t),n=r&&[]||{};return r?(e=e||[],n=n.concat(e),t.forEach(re.bind(null,e,n))):(e&&"object"==typeof e&&Object.keys(e).forEach(ne.bind(null,e,n)),Object.keys(t).forEach(ae.bind(null,e,t,n))),n}function oe(e){return"/"+encodeURIComponent(e).replace(/~/g,"%7E")}G.deepCompareStrict=function e(t,r){if(typeof t!=typeof r)return!1;if(Array.isArray(t))return!!Array.isArray(r)&&(t.length===r.length&&t.every((function(n,a){return e(t[a],r[a])})));if("object"==typeof t){if(!t||!r)return t===r;var n=Object.keys(t),a=Object.keys(r);return n.length===a.length&&n.every((function(n){return e(t[n],r[n])}))}return t===r},G.deepMerge=ie,G.objectGetPath=function(e,t){for(var r,n=t.split("/").slice(1);"string"==typeof(r=n.shift());){var a=decodeURIComponent(r.replace(/~0/,"~").replace(/~1/g,"/"));if(!(a in e))return;e=e[a]}return e},G.encodePath=function(e){return e.map(oe).join("")},G.getDecimalPlaces=function(e){var t=0;if(isNaN(e))return t;"number"!=typeof e&&(e=Number(e));var r=e.toString().split("e");if(2===r.length){if("-"!==r[1][0])return t;t=Number(r[1].slice(1))}var n=r[0].split(".");return 2===n.length&&(t+=n[1].length),t},G.isSchema=function(e){return"object"==typeof e&&e||"boolean"==typeof e};var se=G,ue=se.ValidatorResult,le=se.SchemaError,he={ignoreProperties:{id:!0,default:!0,description:!0,title:!0,additionalItems:!0,then:!0,else:!0,$schema:!0,$ref:!0,extends:!0}},ce=he.validators={};function fe(e,t,r,n,a){var i=t.throwError,o=t.throwAll;t.throwError=!1,t.throwAll=!1;var s=this.validateSchema(e,a,t,r);return t.throwError=i,t.throwAll=o,!s.valid&&n instanceof Function&&n(s),s.valid}function me(e,t){if(Object.hasOwnProperty.call(e,t))return e[t];if(t in e)for(;e=Object.getPrototypeOf(e);)if(Object.propertyIsEnumerable.call(e,t))return e[t]}function pe(e,t,r,n,a,i){if(this.types.object(e)&&(!t.properties||void 0===t.properties[a]))if(!1===t.additionalProperties)i.addError({name:"additionalProperties",argument:a,message:"is not allowed to have the additional property "+JSON.stringify(a)});else{var o=t.additionalProperties||{};"function"==typeof r.preValidateProperty&&r.preValidateProperty(e,a,o,r,n);var s=this.validateSchema(e[a],o,r,n.makeChild(o,a));s.instance!==i.instance[a]&&(i.instance[a]=s.instance),i.importErrors(s)}}ce.type=function(e,t,r,n){if(void 0===e)return null;var a=new ue(e,t,r,n),i=Array.isArray(t.type)?t.type:[t.type];if(!i.some(this.testType.bind(this,e,t,r,n))){var o=i.map((function(e){if(e){var t=e.$id||e.id;return t?"<"+t+">":e+""}}));a.addError({name:"type",argument:o,message:"is not of a type(s) "+o})}return a},ce.anyOf=function(e,t,r,n){if(void 0===e)return null;var a=new ue(e,t,r,n),i=new ue(e,t,r,n);if(!Array.isArray(t.anyOf))throw new le("anyOf must be an array");if(!t.anyOf.some(fe.bind(this,e,r,n,(function(e){i.importErrors(e)})))){var o=t.anyOf.map((function(e,t){var r=e.$id||e.id;return r?"<"+r+">":e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"}));r.nestedErrors&&a.importErrors(i),a.addError({name:"anyOf",argument:o,message:"is not any of "+o.join(",")})}return a},ce.allOf=function(e,t,r,n){if(void 0===e)return null;if(!Array.isArray(t.allOf))throw new le("allOf must be an array");var a=new ue(e,t,r,n),i=this;return t.allOf.forEach((function(t,o){var s=i.validateSchema(e,t,r,n);if(!s.valid){var u=t.$id||t.id||t.title&&JSON.stringify(t.title)||t.$ref&&"<"+t.$ref+">"||"[subschema "+o+"]";a.addError({name:"allOf",argument:{id:u,length:s.errors.length,valid:s},message:"does not match allOf schema "+u+" with "+s.errors.length+" error[s]:"}),a.importErrors(s)}})),a},ce.oneOf=function(e,t,r,n){if(void 0===e)return null;if(!Array.isArray(t.oneOf))throw new le("oneOf must be an array");var a=new ue(e,t,r,n),i=new ue(e,t,r,n),o=t.oneOf.filter(fe.bind(this,e,r,n,(function(e){i.importErrors(e)}))).length,s=t.oneOf.map((function(e,t){return e.$id||e.id||e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"}));return 1!==o&&(r.nestedErrors&&a.importErrors(i),a.addError({name:"oneOf",argument:s,message:"is not exactly one from "+s.join(",")})),a},ce.if=function(e,t,r,n){if(void 0===e)return null;if(!se.isSchema(t.if))throw new Error('Expected "if" keyword to be a schema');var a,i=fe.call(this,e,r,n,null,t.if),o=new ue(e,t,r,n);if(i){if(void 0===t.then)return;if(!se.isSchema(t.then))throw new Error('Expected "then" keyword to be a schema');a=this.validateSchema(e,t.then,r,n.makeChild(t.then)),o.importErrors(a)}else{if(void 0===t.else)return;if(!se.isSchema(t.else))throw new Error('Expected "else" keyword to be a schema');a=this.validateSchema(e,t.else,r,n.makeChild(t.else)),o.importErrors(a)}return o},ce.propertyNames=function(e,t,r,n){if(this.types.object(e)){var a=new ue(e,t,r,n),i=void 0!==t.propertyNames?t.propertyNames:{};if(!se.isSchema(i))throw new le('Expected "propertyNames" to be a schema (object or boolean)');for(var o in e)if(void 0!==me(e,o)){var s=this.validateSchema(o,i,r,n.makeChild(i));a.importErrors(s)}return a}},ce.properties=function(e,t,r,n){if(this.types.object(e)){var a=new ue(e,t,r,n),i=t.properties||{};for(var o in i){var s=i[o];if(void 0!==s){if(null===s)throw new le('Unexpected null, expected schema in "properties"');"function"==typeof r.preValidateProperty&&r.preValidateProperty(e,o,s,r,n);var u=me(e,o),l=this.validateSchema(u,s,r,n.makeChild(s,o));l.instance!==a.instance[o]&&(a.instance[o]=l.instance),a.importErrors(l)}}return a}},ce.patternProperties=function(e,t,r,n){if(this.types.object(e)){var a=new ue(e,t,r,n),i=t.patternProperties||{};for(var o in e){var s=!0;for(var u in i){var l=i[u];if(void 0!==l){if(null===l)throw new le('Unexpected null, expected schema in "patternProperties"');try{var h=new RegExp(u,"u")}catch(f){h=new RegExp(u)}if(h.test(o)){s=!1,"function"==typeof r.preValidateProperty&&r.preValidateProperty(e,o,l,r,n);var c=this.validateSchema(e[o],l,r,n.makeChild(l,o));c.instance!==a.instance[o]&&(a.instance[o]=c.instance),a.importErrors(c)}}}s&&pe.call(this,e,t,r,n,o,a)}return a}},ce.additionalProperties=function(e,t,r,n){if(this.types.object(e)){if(t.patternProperties)return null;var a=new ue(e,t,r,n);for(var i in e)pe.call(this,e,t,r,n,i,a);return a}},ce.minProperties=function(e,t,r,n){if(this.types.object(e)){var a=new ue(e,t,r,n);return Object.keys(e).length>=t.minProperties||a.addError({name:"minProperties",argument:t.minProperties,message:"does not meet minimum property length of "+t.minProperties}),a}},ce.maxProperties=function(e,t,r,n){if(this.types.object(e)){var a=new ue(e,t,r,n);return Object.keys(e).length<=t.maxProperties||a.addError({name:"maxProperties",argument:t.maxProperties,message:"does not meet maximum property length of "+t.maxProperties}),a}},ce.items=function(e,t,r,n){var a=this;if(this.types.array(e)&&t.items){var i=new ue(e,t,r,n);return e.every((function(e,o){var s=Array.isArray(t.items)?t.items[o]||t.additionalItems:t.items;if(void 0===s)return!0;if(!1===s)return i.addError({name:"items",message:"additionalItems not permitted"}),!1;var u=a.validateSchema(e,s,r,n.makeChild(s,o));return u.instance!==i.instance[o]&&(i.instance[o]=u.instance),i.importErrors(u),!0})),i}},ce.minimum=function(e,t,r,n){if(this.types.number(e)){var a=new ue(e,t,r,n);return t.exclusiveMinimum&&!0===t.exclusiveMinimum?e>t.minimum||a.addError({name:"minimum",argument:t.minimum,message:"must be greater than "+t.minimum}):e>=t.minimum||a.addError({name:"minimum",argument:t.minimum,message:"must be greater than or equal to "+t.minimum}),a}},ce.maximum=function(e,t,r,n){if(this.types.number(e)){var a=new ue(e,t,r,n);return t.exclusiveMaximum&&!0===t.exclusiveMaximum?e<t.maximum||a.addError({name:"maximum",argument:t.maximum,message:"must be less than "+t.maximum}):e<=t.maximum||a.addError({name:"maximum",argument:t.maximum,message:"must be less than or equal to "+t.maximum}),a}},ce.exclusiveMinimum=function(e,t,r,n){if("boolean"!=typeof t.exclusiveMaximum&&this.types.number(e)){var a=new ue(e,t,r,n);return e>t.exclusiveMinimum||a.addError({name:"exclusiveMinimum",argument:t.exclusiveMinimum,message:"must be strictly greater than "+t.exclusiveMinimum}),a}},ce.exclusiveMaximum=function(e,t,r,n){if("boolean"!=typeof t.exclusiveMaximum&&this.types.number(e)){var a=new ue(e,t,r,n);return e<t.exclusiveMaximum||a.addError({name:"exclusiveMaximum",argument:t.exclusiveMaximum,message:"must be strictly less than "+t.exclusiveMaximum}),a}};var de=function(e,t,r,n,a,i){if(this.types.number(e)){var o=t[a];if(0==o)throw new le(a+" cannot be zero");var s=new ue(e,t,r,n),u=se.getDecimalPlaces(e),l=se.getDecimalPlaces(o),h=Math.max(u,l),c=Math.pow(10,h);return Math.round(e*c)%Math.round(o*c)!=0&&s.addError({name:a,argument:o,message:i+JSON.stringify(o)}),s}};function ve(e,t,r){var n,a=r.length;for(n=t+1;n<a;n++)if(se.deepCompareStrict(e,r[n]))return!1;return!0}ce.multipleOf=function(e,t,r,n){return de.call(this,e,t,r,n,"multipleOf","is not a multiple of (divisible by) ")},ce.divisibleBy=function(e,t,r,n){return de.call(this,e,t,r,n,"divisibleBy","is not divisible by (multiple of) ")},ce.required=function(e,t,r,n){var a=new ue(e,t,r,n);return void 0===e&&!0===t.required?a.addError({name:"required",message:"is required"}):this.types.object(e)&&Array.isArray(t.required)&&t.required.forEach((function(t){void 0===me(e,t)&&a.addError({name:"required",argument:t,message:"requires property "+JSON.stringify(t)})})),a},ce.pattern=function(e,t,r,n){if(this.types.string(e)){var a=new ue(e,t,r,n),i=t.pattern;try{var o=new RegExp(i,"u")}catch(s){o=new RegExp(i)}return e.match(o)||a.addError({name:"pattern",argument:t.pattern,message:"does not match pattern "+JSON.stringify(t.pattern.toString())}),a}},ce.format=function(e,t,r,n){if(void 0!==e){var a=new ue(e,t,r,n);return a.disableFormat||se.isFormat(e,t.format,this)||a.addError({name:"format",argument:t.format,message:"does not conform to the "+JSON.stringify(t.format)+" format"}),a}},ce.minLength=function(e,t,r,n){if(this.types.string(e)){var a=new ue(e,t,r,n),i=e.match(/[\uDC00-\uDFFF]/g);return e.length-(i?i.length:0)>=t.minLength||a.addError({name:"minLength",argument:t.minLength,message:"does not meet minimum length of "+t.minLength}),a}},ce.maxLength=function(e,t,r,n){if(this.types.string(e)){var a=new ue(e,t,r,n),i=e.match(/[\uDC00-\uDFFF]/g);return e.length-(i?i.length:0)<=t.maxLength||a.addError({name:"maxLength",argument:t.maxLength,message:"does not meet maximum length of "+t.maxLength}),a}},ce.minItems=function(e,t,r,n){if(this.types.array(e)){var a=new ue(e,t,r,n);return e.length>=t.minItems||a.addError({name:"minItems",argument:t.minItems,message:"does not meet minimum length of "+t.minItems}),a}},ce.maxItems=function(e,t,r,n){if(this.types.array(e)){var a=new ue(e,t,r,n);return e.length<=t.maxItems||a.addError({name:"maxItems",argument:t.maxItems,message:"does not meet maximum length of "+t.maxItems}),a}},ce.uniqueItems=function(e,t,r,n){if(!0===t.uniqueItems&&this.types.array(e)){var a=new ue(e,t,r,n);return e.every(ve)||a.addError({name:"uniqueItems",message:"contains duplicate item"}),a}},ce.dependencies=function(e,t,r,n){if(this.types.object(e)){var a=new ue(e,t,r,n);for(var i in t.dependencies)if(void 0!==e[i]){var o=t.dependencies[i],s=n.makeChild(o,i);if("string"==typeof o&&(o=[o]),Array.isArray(o))o.forEach((function(t){void 0===e[t]&&a.addError({name:"dependencies",argument:s.propertyPath,message:"property "+t+" not found, required by "+s.propertyPath})}));else{var u=this.validateSchema(e,o,r,s);a.instance!==u.instance&&(a.instance=u.instance),u&&u.errors.length&&(a.addError({name:"dependencies",argument:s.propertyPath,message:"does not meet dependency required by "+s.propertyPath}),a.importErrors(u))}}return a}},ce.enum=function(e,t,r,n){if(void 0===e)return null;if(!Array.isArray(t.enum))throw new le("enum expects an array",t);var a=new ue(e,t,r,n);return t.enum.some(se.deepCompareStrict.bind(null,e))||a.addError({name:"enum",argument:t.enum,message:"is not one of enum values: "+t.enum.map(String).join(",")}),a},ce.const=function(e,t,r,n){if(void 0===e)return null;var a=new ue(e,t,r,n);return se.deepCompareStrict(t.const,e)||a.addError({name:"const",argument:t.const,message:"does not exactly match expected constant: "+t.const}),a},ce.not=ce.disallow=function(e,t,r,n){var a=this;if(void 0===e)return null;var i=new ue(e,t,r,n),o=t.not||t.disallow;return o?(Array.isArray(o)||(o=[o]),o.forEach((function(o){if(a.testType(e,t,r,n,o)){var s=o&&(o.$id||o.id)||o;i.addError({name:"not",argument:s,message:"is of prohibited type "+s})}})),i):null};var ye=he,ge={},be=O,we=G;function Ae(e,t){this.id=e,this.ref=t}ge.SchemaScanResult=Ae,ge.scan=function(e,t){function r(e,t){if(t&&"object"==typeof t)if(t.$ref){var s=be.resolve(e,t.$ref);o[s]=o[s]?o[s]+1:0}else{var u=t.$id||t.id,l=u?be.resolve(e,u):e;if(l){if(l.indexOf("#")<0&&(l+="#"),i[l]){if(!we.deepCompareStrict(i[l],t))throw new Error("Schema <"+l+"> already exists with different definition");return i[l]}i[l]=t,"#"==l[l.length-1]&&(i[l.substring(0,l.length-1)]=t)}n(l+"/items",Array.isArray(t.items)?t.items:[t.items]),n(l+"/extends",Array.isArray(t.extends)?t.extends:[t.extends]),r(l+"/additionalItems",t.additionalItems),a(l+"/properties",t.properties),r(l+"/additionalProperties",t.additionalProperties),a(l+"/definitions",t.definitions),a(l+"/patternProperties",t.patternProperties),a(l+"/dependencies",t.dependencies),n(l+"/disallow",t.disallow),n(l+"/allOf",t.allOf),n(l+"/anyOf",t.anyOf),n(l+"/oneOf",t.oneOf),r(l+"/not",t.not)}}function n(e,t){if(Array.isArray(t))for(var n=0;n<t.length;n++)r(e+"/"+n,t[n])}function a(e,t){if(t&&"object"==typeof t)for(var n in t)r(e+"/"+n,t[n])}var i={},o={};return r(e,t),new Ae(i,o)};var xe=O,je=ye,Oe=G,Ee=ge.scan,Se=Oe.ValidatorResult,Fe=Oe.ValidatorResultError,_e=Oe.SchemaError,$e=Oe.SchemaContext,Ce=function e(){this.customFormats=Object.create(e.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(Pe),this.attributes=Object.create(je.validators)};function ze(e){var t="string"==typeof e?e:e.$ref;return"string"==typeof t&&t}Ce.prototype.customFormats={},Ce.prototype.schemas=null,Ce.prototype.types=null,Ce.prototype.attributes=null,Ce.prototype.unresolvedRefs=null,Ce.prototype.addSchema=function(e,t){var r=this;if(!e)return null;var n=Ee(t||"/",e),a=t||e.$id||e.id;for(var i in n.id)this.schemas[i]=n.id[i];for(var i in n.ref)this.unresolvedRefs.push(i);return this.unresolvedRefs=this.unresolvedRefs.filter((function(e){return void 0===r.schemas[e]})),this.schemas[a]},Ce.prototype.addSubSchemaArray=function(e,t){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addSubSchema(e,t[r])},Ce.prototype.addSubSchemaObject=function(e,t){if(t&&"object"==typeof t)for(var r in t)this.addSubSchema(e,t[r])},Ce.prototype.setSchemas=function(e){this.schemas=e},Ce.prototype.getSchema=function(e){return this.schemas[e]},Ce.prototype.validate=function(e,t,r,n){if("boolean"!=typeof t&&"object"!=typeof t||null===t)throw new _e("Expected `schema` to be an object or boolean");r||(r={});var a,i=t.$id||t.id,o=xe.resolve(r.base||"/",i||"");if(!n){(n=new $e(t,r,[],o,Object.create(this.schemas))).schemas[o]||(n.schemas[o]=t);var s=Ee(o,t);for(var u in s.id){var l=s.id[u];n.schemas[u]=l}}if(r.required&&void 0===e)return(a=new Se(e,t,r,n)).addError("is required, but is undefined"),a;if(!(a=this.validateSchema(e,t,r,n)))throw new Error("Result undefined");if(r.throwAll&&a.errors.length)throw new Fe(a);return a},Ce.prototype.validateSchema=function(e,t,r,n){var a=new Se(e,t,r,n);if("boolean"==typeof t)!0===t?t={}:!1===t&&(t={type:[]});else if(!t)throw new Error("schema is undefined");if(t.extends)if(Array.isArray(t.extends)){var i={schema:t,ctx:n};t.extends.forEach(this.schemaTraverser.bind(this,i)),t=i.schema,i.schema=null,i.ctx=null,i=null}else t=Oe.deepMerge(t,this.superResolve(t.extends,n));var o=ze(t);if(o){var s=this.resolve(t,o,n),u=new $e(s.subschema,r,n.path,s.switchSchema,n.schemas);return this.validateSchema(e,s.subschema,r,u)}var l=r&&r.skipAttributes||[];for(var h in t)if(!je.ignoreProperties[h]&&l.indexOf(h)<0){var c=null,f=this.attributes[h];if(f)c=f.call(this,e,t,r,n);else if(!1===r.allowUnknownAttributes)throw new _e("Unsupported attribute: "+h,t);c&&a.importErrors(c)}if("function"==typeof r.rewrite){var m=r.rewrite.call(this,e,t,r,n);a.instance=m}return a},Ce.prototype.schemaTraverser=function(e,t){e.schema=Oe.deepMerge(e.schema,this.superResolve(t,e.ctx))},Ce.prototype.superResolve=function(e,t){var r=ze(e);return r?this.resolve(e,r,t).subschema:e},Ce.prototype.resolve=function(e,t,r){if(t=r.resolve(t),r.schemas[t])return{subschema:r.schemas[t],switchSchema:t};var n=xe.parse(t),a=n&&n.hash,i=a&&a.length&&t.substr(0,t.length-a.length);if(!i||!r.schemas[i])throw new _e("no such schema <"+t+">",e);var o=Oe.objectGetPath(r.schemas[i],a.substr(1));if(void 0===o)throw new _e("no such schema "+a+" located in <"+i+">",e);return{subschema:o,switchSchema:t}},Ce.prototype.testType=function(e,t,r,n,a){if(void 0!==a){if(null===a)throw new _e('Unexpected null in "type" keyword');if("function"==typeof this.types[a])return this.types[a].call(this,e);if(a&&"object"==typeof a){var i=this.validateSchema(e,a,r,n);return void 0===i||!(i&&i.errors.length)}return!0}};var Ze,Pe=Ce.prototype.types={};Pe.string=function(e){return"string"==typeof e},Pe.number=function(e){return"number"==typeof e&&isFinite(e)},Pe.integer=function(e){return"number"==typeof e&&e%1==0},Pe.boolean=function(e){return"boolean"==typeof e},Pe.array=function(e){return Array.isArray(e)},Pe.null=function(e){return null===e},Pe.date=function(e){return e instanceof Date},Pe.any=function(e){return!0},Pe.object=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&!(e instanceof Date)},Ze=Ce;const Ve=e=>{const t={};return Object.entries(e).forEach((([e,r])=>{if(null==r||""===r)return;if(r.constructor!==Object)return void(t[e]=r);const n=Ve(r);Object.keys(n).length>0&&(t[e]=n)})),t};const ke=(e,t)=>"object"===t.type?(e=e||{},Object.entries(t.properties).forEach((([t,r])=>{e[t]=ke(e[t],r)})),e):e||t.default;var Ie=e=>(e=e.replace(/([A-Z])/g," $1").toLowerCase().replace(/_/g," "))[0].toUpperCase()+e.slice(1);const Re=["number","string","boolean"],qe=e=>{if(null==e)return{};for(let t=0;t<Re.length;t++)if(typeof e===Re[t])return{default:e,type:Re[t]};if(Array.isArray(e))return{type:"array",default:e,items:qe(e[0])};if("lazy"===e.type){const t={};return Object.entries(e).forEach((([e,r])=>t[e]=qe(r))),delete t.type,{type:"object",properties:t}}if(e.type)return e;throw"Unrecognized schema object for parseLazySchema"},Ne=e=>"object"===e.type?"unrest-object":e.enum?"unrest-select":"boolean"===e.type?"unrest-checkbox":"image"===e.type?"unrest-image":"color"===e.format?"unrest-color":"password"===e.format?"unrest-password":"unrest-text";var Ue=(e,t,{ui:r={}}={},o=[])=>{var s=((e,t)=>{var r={};for(var o in e)a.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&n)for(var o of n(e))t.indexOf(o)<0&&i.call(e,o)&&(r[o]=e[o]);return r})(t,[]);return"lazy"===s.type&&(s=qe(s)),s.name=e,s.id=`id__${s.name}`,s.ui=((e,t)=>{const r={type:"text",tagName:Ne(e)};return"number"===e.type&&(r.type="number"),"password"===e.format&&(r.type="password"),Object.assign(r,t[e.name],e.ui)})(s,r),void 0===s.title&&(s.title=Ie(s.name)),s.__path=o.slice(),"__root"!==e&&s.__path.push(s.name),s};const Me={provide(){return{ur_form:this}},props:{schema:Object,uiSchema:Object,state:{type:Object,default:()=>({})},onSubmit:Function,onChange:Function,onInput:Function,errors:Object,focus:{type:Boolean,default:()=>!0}},data:()=>({internal_errors:null}),computed:{computed_errors(){const e=s(s({},this.errors),this.internal_errors);return e.__all__&&(e.__root=e.__all__),e},field(){return Ue("__root",this.schema)}},beforeMount(){ke(this.state,this.field)},mounted(){var e;this.focus&&(null==(e=this.$el.querySelector("input"))||e.focus())},methods:{handleError(e){var t,r,n,a;throw e.message&&(this.internal_errors={__root:e.message||e}),(null==(r=null==(t=e.response)?void 0:t.data)?void 0:r.errors)&&(this.internal_errors=null==(a=null==(n=e.response)?void 0:n.data)?void 0:a.errors),e},change(e){var t;null==(t=this.onChange)||t.call(this,this.state,e)},input(e){var t;null==(t=this.onInput)||t.call(this,this.state,e)},submit(e){var t;if(this.internal_errors=((e,t)=>{const r=(new Ze).validate(Ve(e),t);if(!r.errors.length)return null;const n={};return r.errors.forEach((({path:e,argument:t,message:r,name:a})=>{e=[...e,t],n[e.join(".")]="required"===a?"This field is required.":r})),n})(this.state,this.schema),!this.internal_errors)try{null==(t=this.onSubmit(this.state,e))||t.catch(this.handleError)}catch(r){this.handleError(r)}}}},Le={class:"ur-form__actions"},Te=f("button",{type:"submit",class:"btn -primary"},"Submit",-1);Me.render=function(e,t,r,n,a,i){var o;const s=u("unrest-field");return l(),h("form",{onSubmit:t[2]||(t[2]=c(((...e)=>i.submit&&i.submit(...e)),["prevent"])),class:"ur-form"},[f(s,{modelValue:r.state,"onUpdate:modelValue":t[1]||(t[1]=e=>r.state=e),field:i.field,key:i.field.id,onChange:i.change,onInput:i.input},null,8,["modelValue","field","onChange","onInput"]),(l(!0),h(m,null,p(null==(o=i.computed_errors)?void 0:o.__root,((e,t)=>(l(),h("div",{key:t,class:"form-error"},d(e.message),1)))),128)),f("div",Le,[v(e.$slots,"actions",{},(()=>[Te]))])],32)};const De={inject:["ur_form"],props:{field:Object,form:Object,modelValue:null},emits:["update:modelValue"],computed:{error(){var e;return null==(e=this.ur_form.internal_errors)?void 0:e[this.field.__path.join(".")]},css(){return{root:[`form-group form-group__${this.field.name}`,{"-error":this.error}]}}},methods:{showLabel:e=>e.title&&"__root"!==e.name&&!["unrest-checkbox"].includes(e.ui.tagName)}},Je={class:"input-wrapper"},Ge={key:1,class:"form-error"},Be={key:2,class:"description"};De.render=function(e,t,r,n,a,i){return"unrest-hidden"!==r.field.ui.tagName?(l(),h("div",{key:0,class:i.css.root},[i.showLabel(r.field)?(l(),h("label",{key:0,for:r.field.id},d(r.field.title),9,["for"])):y("",!0),f("div",Je,[(l(),h(g(r.field.ui.tagName),{field:r.field,modelValue:r.modelValue,"onUpdate:modelValue":t[1]||(t[1]=t=>e.$emit("update:modelValue",t))},null,8,["field","modelValue"]))]),i.error?(l(),h("div",Ge,d(i.error),1)):r.field.description?(l(),h("div",Be,d(r.field.description),1)):y("",!0)],2)):y("",!0)};const He={props:{modelValue:null,field:Object},emits:["update:modelValue"],computed:{mixed(){return"mixed"===this.modelValue},css(){const{mixed:e}=this,{disabled:t}=this.field;return[this.field.ui.css,"ur-checkbox -"+this.icon,{"-mixed":e,"-disabled":t}]},icon(){return this.mixed?"indeterminate":this.modelValue?"checked":"unchecked"}},methods:{onChange(){this.field.disabled||this.$emit("update:modelValue",!this.modelValue)}}};He.render=function(e,t,r,n,a,i){return l(),h("label",{class:i.css},[f("input",{type:"checkbox",id:r.field.id,checked:r.modelValue,onInput:t[1]||(t[1]=(...e)=>i.onChange&&i.onChange(...e)),name:r.field.name},null,40,["id","checked","name"]),b(" "+d(r.field.title),1)],2)};const Ke={props:{modelValue:null,field:Object},emits:["update:modelValue"],data(){return{preview:null,original:this.modelValue}},computed:{css(){var e,t;return[null==(t=null==(e=this.field)?void 0:e.ui)?void 0:t.css,"ur-file"]}},methods:{clear(){this.$refs.input.value=null,this.preview=null},onChange(){const e=this.$refs.input.files[0],t=new FileReader;t.addEventListener("load",(()=>{this.preview={dataURL:t.result,name:e.name},this.$emit("update:modelValue",this.preview)}),!1),e&&t.readAsDataURL(e)}}},Xe={key:0,class:"original"},Qe={class:"name"},We={key:1,class:"preview"},Ye={class:"name"},et={key:2,class:"btn -primary"};Ke.render=function(e,t,r,n,a,i){return l(),h("label",{for:r.field.id,class:i.css},[f("input",{style:{display:"none"},type:"file",id:r.field.id,onChange:t[1]||(t[1]=(...e)=>i.onChange&&i.onChange(...e)),ref:"input"},null,40,["id"]),a.original?(l(),h("div",Xe,[f("img",{src:a.original},null,8,["src"]),f("div",Qe,d(a.original.split("/").pop()),1)])):y("",!0),a.preview?(l(),h("div",We,[f("img",{src:a.preview.dataURL},null,8,["src"]),f("div",Ye,[b(d(a.preview.name)+" ",1),a.preview?(l(),h("button",{key:0,onClick:t[2]||(t[2]=c(((...e)=>i.clear&&i.clear(...e)),["prevent"]))},"Clear")):y("",!0)])])):(l(),h("div",et," Choose File "))],10,["for"])};const tt={inject:["ur_form"],props:{field:Object,modelValue:Object},computed:{children(){return Object.entries(this.field.properties).map((([e,t])=>Ue(e,t,this.ur_form,this.field.__path)))}}};tt.render=function(e,t,r,n,a,i){const o=u("unrest-field");return l(!0),h(m,null,p(i.children,(e=>(l(),h(o,{key:e.id,field:e,modelValue:r.modelValue[e.name],"onUpdate:modelValue":t=>r.modelValue[e.name]=t},null,8,["field","modelValue","onUpdate:modelValue"])))),128)};var rt="[object GeneratorFunction]",nt="object"==typeof j&&j&&j.Object===Object&&j,at="object"==typeof self&&self&&self.Object===Object&&self,it=nt||at||Function("return this")();function ot(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function st(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var ut=Object.prototype,lt=ut.hasOwnProperty,ht=ut.toString,ct=it.Symbol,ft=ut.propertyIsEnumerable,mt=ct?ct.isConcatSpreadable:void 0,pt=Math.max;function dt(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=vt),a||(a=[]);++i<o;){var s=e[i];t>0&&r(s)?t>1?dt(s,t-1,r,n,a):st(a,s):n||(a[a.length]=s)}return a}function vt(e){return gt(e)||function(e){return function(e){return bt(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?ht.call(e):"";return"[object Function]"==t||t==rt}(e)}(e)}(e)&&lt.call(e,"callee")&&(!ft.call(e,"callee")||"[object Arguments]"==ht.call(e))}(e)||!!(mt&&e&&e[mt])}function yt(e){if("string"==typeof e||function(e){return"symbol"==typeof e||bt(e)&&"[object Symbol]"==ht.call(e)}(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}var gt=Array.isArray;function bt(e){return!!e&&"object"==typeof e}var wt,At,xt=(wt=function(e,t){return null==e?{}:function(e,t){return function(e,t,r){for(var n=-1,a=t.length,i={};++n<a;){var o=t[n],s=e[o];r(s,o)&&(i[o]=s)}return i}(e=Object(e),t,(function(t,r){return r in e}))}(e,function(e,t){for(var r=-1,n=e?e.length:0,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}(dt(t,1),yt))},At=pt(void 0===At?wt.length-1:At,0),function(){for(var e=arguments,t=-1,r=pt(e.length-At,0),n=Array(r);++t<r;)n[t]=e[At+t];t=-1;for(var a=Array(At+1);++t<At;)a[t]=e[t];return a[At]=n,ot(wt,this,a)});const jt={props:{modelValue:null,field:Object},emits:["update:modelValue"],data:()=>({showError:!1}),computed:{inputAttrs(){const e=xt(this.field,["name","disabled","placeholder","id"]);return e.value=this.modelValue,e.type=this.field.ui.type,e.class="form-control",e}},methods:{onChange(e){const t=((e,t={})=>"number"===t.type?""===e?NaN:Number(e):e)(e.target.value,this.field);"number"===this.field.type&&isNaN(t)||this.$emit("update:modelValue",t)}}};jt.render=function(e,t,r,n,a,i){return l(),h("input",w(i.inputAttrs,{onInput:t[1]||(t[1]=(...e)=>i.onChange&&i.onChange(...e)),class:"form-control"}),null,16)};const Ot={mixins:[jt],data:()=>({show_password:!1}),computed:{iconClass(){return"input-group-append cursor-pointer fa fa-eye"+(this.show_password?"-slash":"")},type(){return this.show_password?"text":"password"}}},Et={class:"input-group"};Ot.render=function(e,t,r,n,a,i){return l(),h("div",Et,[f("input",w(e.inputAttrs,{onInput:t[1]||(t[1]=(...t)=>e.onChange&&e.onChange(...t)),class:"form-control",type:i.type}),null,16,["type"]),f("i",{class:i.iconClass,onClick:t[2]||(t[2]=e=>a.show_password=!a.show_password)},null,2)])};const St={props:{field:Object,modelValue:Number},emits:["update:modelValue"],computed:{inputAttrs(){return xt(this.field.ui,["min","max","step"])}},methods:{change(e){this.$emit("update:modelValue",Number(e.target.value))}}},Ft={class:"ur-range"},_t={class:"ur-range__value"};St.render=function(e,t,r,n,a,i){return l(),h("div",Ft,[f("input",w({type:"range"},i.inputAttrs,{onInput:t[1]||(t[1]=(...e)=>i.change&&i.change(...e)),onChange:t[2]||(t[2]=(...e)=>i.change&&i.change(...e)),value:r.modelValue}),null,16,["value"]),f("div",_t,d(r.modelValue),1)])};const $t={props:{modelValue:null,field:Object,form:Object},emits:["update:modelValue"],computed:{choices(){if(this.field.getChoices)return this.field.getChoices();const e=this.field.enumNames||this.field.enum;return this.field.enum.map(((t,r)=>({value:t,name:e[r]})))}},methods:{onChange(e){this.$emit("update:modelValue",e.target.value)}}};$t.render=function(e,t,r,n,a,i){return l(),h("select",{onInput:t[1]||(t[1]=(...e)=>i.onChange&&i.onChange(...e)),value:r.modelValue,id:r.field.id,class:"form-control"},[(l(!0),h(m,null,p(i.choices,(e=>(l(),h("option",{value:e.value,key:e.name},d(e.name),9,["value"])))),128))],40,["value","id"])};const Ct={Form:Me,Field:De,Checkbox:He,Image:Ke,Object:tt,Range:St,Select:$t,Text:jt,Password:Ot},zt={install:e=>{Object.entries(Ct).forEach((([t,r])=>e.component("Unrest"+t,r)))}};var Zt,Pt=(Zt=s({prepField:Ue,parseLazySchema:qe,plugin:zt},Ct),t(Zt,r({install:e=>{console.warn("DEPRACATED: Use UrForm.plugin"),e.use(zt)}})));export default Pt;
